var current_capo_value,current_capo_value_int,capo_minus_button=document.getElementById("IDcapoMinusButton"),capo_plus_button=document.getElementById("IDcapoPlusButton");function capoMinusFunc(){if(1!=spotify_error){if(current_capo_value=document.getElementById("IDguitarCapo"),(current_capo_value_int=parseInt(current_capo_value.innerHTML))>-12){current_capo_value_int-=1,current_capo_value.innerHTML=current_capo_value_int,capo_minus_button.style.opacity="1",capo_plus_button.style.opacity="1";var e=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html"),t=e.getElementsByClassName("chord_span");for(let e=0;e<t.length;e++)t[e].innerHTML=sharOrFlatTranposer(transposeChord(t[e].innerHTML.toString(),1),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=e.body.innerHTML,main_chords_body=e.body.innerHTML}-12==current_capo_value_int&&(capo_minus_button.style.opacity="0.5",capo_plus_button.style.opacity="1"),initial_capo_value==current_capo_value_int?(current_capo_value.style.fontWeight="bold",current_capo_value.style.color="#1DB954"):(current_capo_value.style.fontWeight="normal",current_capo_value.style.color="#1DB954");var n=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html").getElementsByClassName("chord_span");amount_of_flats=0,amount_of_sharps=0;for(let e=0;e<n.length;e++)amount_of_flats+=(n[e].innerHTML.match(/b/g)||[]).length;for(let e=0;e<n.length;e++)amount_of_sharps+=(n[e].innerHTML.match(/#/g)||[]).length;amount_of_sharps>amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="#"),amount_of_flats>amount_of_sharps&&(document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="b"),amount_of_sharps==amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""),localStorage.setItem("key_local_storage_previous_capo_value",current_capo_value_int),lines_hover_and_clickable()}}function capoPlusFunc(){if(1!=spotify_error){if(current_capo_value=document.getElementById("IDguitarCapo"),(current_capo_value_int=parseInt(current_capo_value.innerHTML))<12){current_capo_value_int+=1,current_capo_value.innerHTML=current_capo_value_int,capo_plus_button.style.opacity="1",capo_minus_button.style.opacity="1";var e=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html"),t=e.getElementsByClassName("chord_span");for(let e=0;e<t.length;e++)t[e].innerHTML=sharOrFlatTranposer(transposeChord(t[e].innerHTML.toString(),-1),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=e.body.innerHTML,main_chords_body=e.body.innerHTML}12==current_capo_value_int&&(capo_plus_button.style.opacity="0.5",capo_minus_button.style.opacity="1"),initial_capo_value==current_capo_value_int?(current_capo_value.style.fontWeight="bold",current_capo_value.style.color="#1DB954"):(current_capo_value.style.fontWeight="normal",current_capo_value.style.color="#1DB954");var n=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html").getElementsByClassName("chord_span");amount_of_flats=0,amount_of_sharps=0;for(let e=0;e<n.length;e++)amount_of_flats+=(n[e].innerHTML.match(/b/g)||[]).length;for(let e=0;e<n.length;e++)amount_of_sharps+=(n[e].innerHTML.match(/#/g)||[]).length;amount_of_sharps>amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="#"),amount_of_flats>amount_of_sharps&&(document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="b"),amount_of_sharps==amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""),localStorage.setItem("key_local_storage_previous_capo_value",current_capo_value_int),lines_hover_and_clickable()}}capo_minus_button.addEventListener("click",(()=>{if(1!=spotify_error){if(current_capo_value=document.getElementById("IDguitarCapo"),(current_capo_value_int=parseInt(current_capo_value.innerHTML))>-12){current_capo_value_int-=1,current_capo_value.innerHTML=current_capo_value_int,capo_minus_button.style.opacity="1",capo_plus_button.style.opacity="1";var e=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html"),t=e.getElementsByClassName("chord_span");for(let e=0;e<t.length;e++)t[e].innerHTML=sharOrFlatTranposer(transposeChord(t[e].innerHTML.toString(),1),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=e.body.innerHTML,main_chords_body=e.body.innerHTML}-12==current_capo_value_int&&(capo_minus_button.style.opacity="0.5",capo_plus_button.style.opacity="1"),initial_capo_value==current_capo_value_int?(current_capo_value.style.fontWeight="bold",current_capo_value.style.color="#1DB954"):(current_capo_value.style.fontWeight="normal",current_capo_value.style.color="#1DB954");var n=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html").getElementsByClassName("chord_span");amount_of_flats=0,amount_of_sharps=0;for(let e=0;e<n.length;e++)amount_of_flats+=(n[e].innerHTML.match(/b/g)||[]).length;for(let e=0;e<n.length;e++)amount_of_sharps+=(n[e].innerHTML.match(/#/g)||[]).length;amount_of_sharps>amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="#"),amount_of_flats>amount_of_sharps&&(document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="b"),amount_of_sharps==amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""),localStorage.setItem("key_local_storage_previous_capo_value",current_capo_value_int),lines_hover_and_clickable()}})),capo_plus_button.addEventListener("click",(()=>{if(1!=spotify_error){if(current_capo_value=document.getElementById("IDguitarCapo"),(current_capo_value_int=parseInt(current_capo_value.innerHTML))<12){current_capo_value_int+=1,current_capo_value.innerHTML=current_capo_value_int,capo_plus_button.style.opacity="1",capo_minus_button.style.opacity="1";var e=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html"),t=e.getElementsByClassName("chord_span");for(let e=0;e<t.length;e++)t[e].innerHTML=sharOrFlatTranposer(transposeChord(t[e].innerHTML.toString(),-1),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=e.body.innerHTML,main_chords_body=e.body.innerHTML}12==current_capo_value_int&&(capo_plus_button.style.opacity="0.5",capo_minus_button.style.opacity="1"),initial_capo_value==current_capo_value_int?(current_capo_value.style.fontWeight="bold",current_capo_value.style.color="#1DB954"):(current_capo_value.style.fontWeight="normal",current_capo_value.style.color="#1DB954");var n=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html").getElementsByClassName("chord_span");amount_of_flats=0,amount_of_sharps=0;for(let e=0;e<n.length;e++)amount_of_flats+=(n[e].innerHTML.match(/b/g)||[]).length;for(let e=0;e<n.length;e++)amount_of_sharps+=(n[e].innerHTML.match(/#/g)||[]).length;amount_of_sharps>amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="#"),amount_of_flats>amount_of_sharps&&(document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",current_flat_or_sharp="b"),amount_of_sharps==amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""),localStorage.setItem("key_local_storage_previous_capo_value",current_capo_value_int),lines_hover_and_clickable()}}));var note_step_sharp_array=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],note_step_flat_array=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"];function sharOrFlatTranposer(e,t){if("#"==t)return e;if("0"==t)return e;var n=e;const o=["C#","D#","F#","G#","A#"],l=["Db","Eb","Gb","Ab","Bb"];for(let e=0;e<o.length;e++)n.includes(o[e])&&(n=n.replace(o[e],l[e]));return n}function transposeChord(e,t){const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=["C#","D#","F#","G#","A#"],l=["Db","Eb","Gb","Ab","Bb"];for(let t=0;t<l.length;t++)e.includes(l[t])&&(e=e.replace(l[t],o[t]));const r=e.split("/"),a=r[0],s=r[1],i=a.replace(/[CDEFGAB]#?/g,(e=>{const o=(n.indexOf(e)+t)%12;return o<0?n[o+12]:n[o]}));if(s){return i+"/"+s.replace(/[CDEFGAB]#?/g,(e=>{const o=(n.indexOf(e)+t)%12;return o<0?n[o+12]:n[o]}))}return i}var flat_or_sharp_button=document.getElementById("IDflatOrSharp");function flatOrSharpPersistSetting(){if(1!=spotify_error&&(sharp_symobl=document.getElementById("IDsharpSymbol"),flat_symbol=document.getElementById("IDflatSymbol"),"white"!=sharp_symobl.style.color||"white"!=flat_symbol.style.color)){if("b"==current_flat_or_sharp){var e=(t=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html")).getElementsByClassName("chord_span");for(let t=0;t<e.length;t++)e[t].innerHTML=sharOrFlatTranposer(transposeChord(e[t].innerHTML.toString(),0),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=t.body.innerHTML,main_chords_body=t.body.innerHTML,track_key=sharOrFlatTranposer(transposeChord(track_key,0),current_flat_or_sharp),document.getElementById("IDtrackKeyValue").textContent=track_key,document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)"}else if("#"==current_flat_or_sharp){var t;e=(t=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html")).getElementsByClassName("chord_span");for(let t=0;t<e.length;t++)e[t].innerHTML=sharOrFlatTranposer(transposeChord(e[t].innerHTML.toString(),0),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=t.body.innerHTML,main_chords_body=t.body.innerHTML,track_key=sharOrFlatTranposer(transposeChord(track_key,0),current_flat_or_sharp),document.getElementById("IDtrackKeyValue").textContent=track_key,document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""}lines_hover_and_clickable()}}flat_or_sharp_button.addEventListener("click",(()=>{if(1!=spotify_error&&(sharp_symobl=document.getElementById("IDsharpSymbol"),flat_symbol=document.getElementById("IDflatSymbol"),"white"!=sharp_symobl.style.color||"white"!=flat_symbol.style.color)){if("#"==current_flat_or_sharp){current_flat_or_sharp="b";var e=(t=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html")).getElementsByClassName("chord_span");for(let t=0;t<e.length;t++)e[t].innerHTML=sharOrFlatTranposer(transposeChord(e[t].innerHTML.toString(),0),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=t.body.innerHTML,main_chords_body=t.body.innerHTML,track_key=sharOrFlatTranposer(transposeChord(track_key,0),current_flat_or_sharp),document.getElementById("IDtrackKeyValue").textContent=track_key,document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)"}else if("b"==current_flat_or_sharp){current_flat_or_sharp="#";var t;e=(t=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html")).getElementsByClassName("chord_span");for(let t=0;t<e.length;t++)e[t].innerHTML=sharOrFlatTranposer(transposeChord(e[t].innerHTML.toString(),0),current_flat_or_sharp);document.getElementById("IDdivMainChords").innerHTML=t.body.innerHTML,main_chords_body=t.body.innerHTML,track_key=sharOrFlatTranposer(transposeChord(track_key,0),current_flat_or_sharp),document.getElementById("IDtrackKeyValue").textContent=track_key,document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter=""}localStorage.setItem("key_local_storage_previous_flat_or_sharp",current_flat_or_sharp),lines_hover_and_clickable()}}));var next_spotify_track_button=document.getElementById("IDforwardButton");next_spotify_track_button.addEventListener("click",(()=>{socket.emit("nextSpotifyTrack")})),next_spotify_track_button.addEventListener("mouseover",(()=>{is_on_touch_device||(next_spotify_track_button.style.scale="1.1")})),next_spotify_track_button.addEventListener("mouseout",(()=>{next_spotify_track_button.style.scale="1"}));var previous_spotify_track_button=document.getElementById("IDbackButton");previous_spotify_track_button.addEventListener("click",(()=>{clicked_previous=1,socket.emit("previousSpotifyTrack")})),previous_spotify_track_button.addEventListener("mouseover",(()=>{is_on_touch_device||(previous_spotify_track_button.style.scale="1.1")})),previous_spotify_track_button.addEventListener("mouseout",(()=>{previous_spotify_track_button.style.scale="1"}));var play_pause_spotify_track_button=document.getElementById("IDplayAndPauseButton");play_pause_spotify_track_button.addEventListener("click",(()=>{socket.emit("playPauseSpotifyTrack")})),play_pause_spotify_track_button.addEventListener("mouseover",(()=>{is_on_touch_device||(play_pause_spotify_track_button.style.scale="1.1")})),play_pause_spotify_track_button.addEventListener("mouseout",(()=>{play_pause_spotify_track_button.style.scale="1"}));var line_empty=document.getElementById("IDtimeLineEmpty"),line_filled=document.getElementById("IDtimeLineFilled"),line_empty_2=document.getElementById("IDtimeLineEmpty2"),line_filled_2=document.getElementById("IDtimeLineFilled2");line_empty.addEventListener("mousemove",(e=>{line_empty.style.visibility="hidden",line_filled.style.visibility="hidden",line_empty.style.display="none",line_filled.style.display="none",line_empty_2.style.visibility="visible",line_filled_2.style.visibility="visible",line_empty_2.style.display="block",line_filled_2.style.display="block";let t=line_empty_2.clientWidth,n=(e.clientX-line_empty_2.getBoundingClientRect().left)/t,o=Math.round(n*track_duration_ms)/track_duration_ms,l=Math.round(100*o);line_filled_2.style.width=l+"%"})),line_empty_2.addEventListener("mousemove",(e=>{currently_hovering_timeline=!0,is_on_touch_device||(line_empty_2.style.transform="scaleY(1.5)",line_filled_2.style.backgroundColor="#34df70"),line_empty.style.visibility="hidden",line_filled.style.visibility="hidden",line_empty.style.display="none",line_filled.style.display="none",line_empty_2.style.visibility="visible",line_filled_2.style.visibility="visible",line_empty_2.style.display="block",line_filled_2.style.display="block";let t=line_empty_2.clientWidth,n=(e.clientX-line_empty_2.getBoundingClientRect().left)/t,o=Math.round(n*track_duration_ms),l=document.getElementById("IDcurrentTime"),r=Math.floor(o/1e3),a=r%60,s=Math.floor(r/60).toString(),i=a<10?`0${a}`:a.toString();l.textContent=s+":"+i;let _=o/track_duration_ms,c=Math.round(100*_);line_filled_2.style.width=c+"%"})),line_empty_2.addEventListener("mouseleave",(()=>{currently_hovering_timeline=!1,line_empty.style.visibility="visible",line_filled.style.visibility="visible",line_empty.style.display="block",line_filled.style.display="block",line_empty_2.style.visibility="hidden",line_filled_2.style.visibility="hidden",line_empty_2.style.display="none",line_filled_2.style.display="none"})),line_empty_2.addEventListener("click",(e=>{if(1==spotify_error)return;1==musixmatch_lyrics_is_linesynced&&(dynamic_scroll=!0),clicked_on_timeline=!0;let t=line_empty_2.clientWidth,n=(e.clientX-line_empty_2.getBoundingClientRect().left)/t,o=Math.round(n*track_duration_ms),l=null,r=1/0;if(clickable_synced_lines_timestamp_array.forEach((e=>{let t=Math.abs(e-o);t<r&&(r=t,l=e)})),null!=l){current_synced_line=document.getElementById("IS_SYNCED_AT:"+l);try{current_synced_line.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),current_synced_line.scrollTo}catch{console.log("%cNo current synced line available - Could not center current line","color: yellow; font-weight: bold;")}}let a=o/track_duration_ms,s=Math.round(100*a);line_filled_2.style.width=s+"%",line_filled.style.width=s+"%",socket.emit("jumpInsideTrack",o),sleepPromise(500).then((()=>{clicked_on_timeline=!1}))}));var sync_button=document.getElementById("IDsyncButton"),sync_button_current_rotation=0;sync_button.addEventListener("mouseover",(()=>{is_on_touch_device||(sync_button.style.transform="scale(0.85)")})),sync_button.addEventListener("mouseout",(()=>{is_on_touch_device||(sync_button.style.transform="scale(1.0)")})),sync_button.addEventListener("click",(()=>{if(1!=spotify_error&&0!=complete_source_code_found){try{current_synced_line.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),current_synced_line.scrollTo}catch{console.log("%cNo current synced line available - Could not center current line","color: yellow; font-weight: bold;")}dynamic_scroll=!dynamic_scroll,dynamic_scroll||(sync_button.src="static/img/sync_button.png",sync_button.style.filter="",sync_button.style.opacity="0.5",bottom_hr.classList.remove("classHRsyncOn"),top_hr.classList.remove("classHRsyncOn")),dynamic_scroll&&(sync_button.src="static/img/sync_button_blue.png",sync_button.style.filter=" drop-shadow(0 0 15px #62dbfb)",sync_button.style.opacity="1",bottom_hr.classList.add("classHRsyncOn"),top_hr.classList.add("classHRsyncOn"))}}));var sync_skip_toggle=document.getElementById("IDsyncSkipToggle");sync_skip_toggle.addEventListener("click",(()=>{0==sync_skip_on?(sync_skip_on=1,document.getElementById("IDforwardButton").src="static/img/music_control/forward_button_blue.png",document.getElementById("IDforwardButton").title="Next Syncable Song",document.getElementById("IDforwardButton").style.filter=" drop-shadow(0 0 10px #62dbfb)",document.getElementById("IDbackButton").src="static/img/music_control/back_button_blue.png",document.getElementById("IDbackButton").title="Previous Syncable Song",document.getElementById("IDbackButton").style.filter=" drop-shadow(0 0 10px #62dbfb)"):1==sync_skip_on&&(sync_skip_on=0,document.getElementById("IDforwardButton").src="static/img/music_control/forward_button.png",document.getElementById("IDforwardButton").title="Next Song",document.getElementById("IDforwardButton").style.filter="",document.getElementById("IDbackButton").src="static/img/music_control/back_button.png",document.getElementById("IDbackButton").title="Previous Song",document.getElementById("IDbackButton").style.filter="")}));var settings_button=document.getElementById("IDsettingsButton"),settings_overlay=document.getElementById("IDsettingsOverlay"),settings_close_button=document.getElementById("IDcloseSettings");settings_button.addEventListener("click",(()=>{settings_overlay.style.opacity="1",settings_overlay.style.visibility="visible"})),settings_close_button.addEventListener("click",(()=>{settings_overlay.style.opacity="0",settings_overlay.style.visibility="hidden"}));var capo_settings=document.getElementById("IDcapoSettings"),capo_settings_checkbox=document.getElementById("IDcapoSettingsCheckbox"),grayRGB="rgb(174, 174, 174)",greenRGB="rgb(29, 185, 84)";function capoPersistOn(){capo_settings_checkbox.style.backgroundColor=greenRGB,setting_persist_capo_value=!0,localStorage.setItem("key_local_storage_setting_persist_capo_value",setting_persist_capo_value)}function capoPersistOff(){capo_settings_checkbox.style.backgroundColor=grayRGB,setting_persist_capo_value=!1,localStorage.setItem("key_local_storage_setting_persist_capo_value",setting_persist_capo_value)}capo_settings.addEventListener("click",(()=>{window.getComputedStyle(capo_settings_checkbox).backgroundColor==grayRGB?capoPersistOn():window.getComputedStyle(capo_settings_checkbox).backgroundColor==greenRGB&&capoPersistOff()})),"true"==setting_persist_capo_value&&capoPersistOn(),"false"==setting_persist_capo_value&&capoPersistOff();var flat_sharp_settings=document.getElementById("IDflatSharpSettings"),flat_sharp_settings_checkbox=document.getElementById("IDflatSharpSettingsCheckbox");function flatSharpPersistOn(){flat_sharp_settings_checkbox.style.backgroundColor=greenRGB,setting_persist_flat_or_sharp=!0,localStorage.setItem("key_local_storage_setting_persist_flat_or_sharp",setting_persist_flat_or_sharp),localStorage.setItem("key_local_storage_previous_flat_or_sharp",current_flat_or_sharp)}function flatSharpPersistOff(){flat_sharp_settings_checkbox.style.backgroundColor=grayRGB,setting_persist_flat_or_sharp=!1,localStorage.setItem("key_local_storage_setting_persist_flat_or_sharp",setting_persist_flat_or_sharp),localStorage.setItem("key_local_storage_previous_flat_or_sharp",current_flat_or_sharp)}flat_sharp_settings.addEventListener("click",(()=>{window.getComputedStyle(flat_sharp_settings_checkbox).backgroundColor==grayRGB?flatSharpPersistOn():window.getComputedStyle(flat_sharp_settings_checkbox).backgroundColor==greenRGB&&flatSharpPersistOff()})),"true"==setting_persist_flat_or_sharp&&flatSharpPersistOn(),"false"==setting_persist_flat_or_sharp&&flatSharpPersistOff();var left_align_settings=document.getElementById("IDalignSettingsCheckbox"),middle_align_settings=document.getElementById("IDalignSettingsCheckbox2");function alignLeft(){left_align_settings.style.backgroundColor=greenRGB,left_align_settings.style.filter="drop-shadow(0 0 8px #1DB954)",middle_align_settings.style.backgroundColor=grayRGB,middle_align_settings.style.filter="",settings_align="left",localStorage.setItem("key_local_storage_settings_align",settings_align),align_capo_persister=!0,align_flat_or_sharp_persister=!0,document.getElementById("IDdivMainChords").style.textAlign="left",socket.emit("trackStaticDataRequest","left")}function alignMiddle(){middle_align_settings.style.backgroundColor=greenRGB,middle_align_settings.style.filter="drop-shadow(0 0 8px #1DB954)",left_align_settings.style.backgroundColor=grayRGB,left_align_settings.style.filter="",settings_align="middle",localStorage.setItem("key_local_storage_settings_align",settings_align),align_capo_persister=!0,align_flat_or_sharp_persister=!0,document.getElementById("IDdivMainChords").style.textAlign="center",socket.emit("trackStaticDataRequest","middle")}left_align_settings.addEventListener("click",(()=>{window.getComputedStyle(left_align_settings).backgroundColor==greenRGB||window.getComputedStyle(left_align_settings).backgroundColor==grayRGB&&alignLeft()})),middle_align_settings.addEventListener("click",(()=>{window.getComputedStyle(middle_align_settings).backgroundColor==greenRGB||window.getComputedStyle(middle_align_settings).backgroundColor==grayRGB&&alignMiddle()})),"left"==settings_align&&alignLeft(),"middle"==settings_align&&alignMiddle();var tuning_icon=document.getElementById("IDtuningIcon");tuning_icon.addEventListener("mouseover",(()=>{is_on_touch_device||(tuning_icon.src="static/img/tuning_icon_hover.png")})),tuning_icon.addEventListener("mouseout",(()=>{tuning_icon.src="static/img/tuning_icon.png"}));var lastEmitTime=0,emitInterval=200,resetInterval=3e3,leftCounter=0,rightCounter=0;document.addEventListener("keydown",(function(e){var t,n=5e3;"ArrowLeft"===e.key&&(console.log("Backwards"),(t=(new Date).getTime())-lastEmitTime>=emitInterval&&(t-lastEmitTime>=resetInterval&&(leftCounter=0,rightCounter=0),(leftCounter+=1)>=4&&socket.emit("/songBackwards",progress_ms,1e4),socket.emit("/songBackwards",progress_ms,n),lastEmitTime=t));"ArrowRight"===e.key&&(console.log("Forwards"),(t=(new Date).getTime())-lastEmitTime>=emitInterval&&(t-lastEmitTime>=resetInterval&&(leftCounter=0,rightCounter=0),(rightCounter+=1)>=4&&socket.emit("/songForwards",progress_ms,track_duration_ms,1e4),socket.emit("/songForwards",progress_ms,track_duration_ms,n),lastEmitTime=t));(" "===e.key&&(console.log("Pause"),socket.emit("playPauseSpotifyTrack")),"ArrowUp"===e.key)&&(console.log("Volume Increase"),(t=(new Date).getTime())-lastEmitTime>=emitInterval&&(socket.emit("increaseVolumeSpotify"),lastEmitTime=t));"ArrowDown"===e.key&&(console.log("Volume Decrease"),(t=(new Date).getTime())-lastEmitTime>=emitInterval&&(socket.emit("decreaseVolumeSpotify"),lastEmitTime=t))}));var repeat_section_button=document.getElementById("IDrepeatSectionToggle");function resetRepeatSectionFlag(){already_in_section_request_first_line=!1}clicked_counter_repeat_section=0,repeat_section_on=!1,repeat_section_button.addEventListener("click",(()=>{if(1!=spotify_error){if(clicked_counter_repeat_section=1,repeat_section_on=!repeat_section_on,repeat_section_on){repeat_section_button.checked=!0,first_line_time=-1,last_line_time=-1;var e=document.createElement("style"),t="\n            #IDrepeatSectionToggle:checked:before {\n                background-image:url('/static/img/repeat_section_button_2.png');\n                background-size: cover;\n            }\n        ";(n=document.querySelector("style#repeatSectionStyle"))?n.innerHTML=t:(e.type="text/css",e.innerHTML=t,e.id="repeatSectionStyle",document.head.appendChild(e))}if(!repeat_section_on){repeat_section_button.checked=!1,first_line_time=-1,last_line_time=-1;var n;e=document.createElement("style"),t="\n            #IDrepeatSectionToggle:checked:before {\n                background-image:url('/static/img/repeat_section_button_1.png');\n                background-size: cover;\n            }\n        ";(n=document.querySelector("style#repeatSectionStyle"))?n.innerHTML=t:(e.type="text/css",e.innerHTML=t,e.id="repeatSectionStyle",document.head.appendChild(e))}}})),document.getElementById("IDAlbum").addEventListener("click",(()=>{1!=spotify_error&&socket.emit("muteSpotifyTrack")}));var shuffle_button=document.getElementById("IDshuffleButton");shuffle_button.addEventListener("click",(()=>{socket.emit("toggleShuffleState")})),shuffle_button.addEventListener("mouseover",(()=>{is_on_touch_device||(shuffle_button.style.scale="1.1")})),shuffle_button.addEventListener("mouseout",(()=>{shuffle_button.style.scale="1"}));var spotify_repeat_button=document.getElementById("IDrepeatSpotifyButton");spotify_repeat_button.addEventListener("click",(()=>{socket.emit("toggleRepeatState")})),spotify_repeat_button.addEventListener("mouseover",(()=>{is_on_touch_device||(spotify_repeat_button.style.scale="1.1")})),spotify_repeat_button.addEventListener("mouseout",(()=>{spotify_repeat_button.style.scale="1"}));var repeatSectionToggle=document.getElementById("IDrepeatSectionToggle");repeatSectionToggle.addEventListener("click",(function(){repeatSectionToggle.checked?repeatSectionToggle.title="Click LINE to define START of Repeat Section":repeatSectionToggle.title="Repeat/Replay Section"})),repeatSectionToggle.checked?repeatSectionToggle.title="Click LINE to define START of Repeat Section":repeatSectionToggle.title="Repeat/Replay Section";