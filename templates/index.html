<!DOCTYPE html>
<html>
<head>
    <title>ChordSync.io</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/mainpage.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('favicon') }}">
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js" integrity="sha384-mZLF4UVrpi/QTWPA7BjNPEnkIfRFn4ZEO3Qt/HFklTJBj/gBOV8G3HcKn4NfQblz" crossorigin="anonymous"></script>
    <script>
        var track_duration_ms=0,progress_ms=0,main_chords_body="",complete_source_code_found=0,previous_track_id=-1,current_track_id=-1,amount_of_flats=0,amount_of_sharps=0,current_flat_or_sharp="0",previous_flat_or_sharp="0",initial_capo_value=0,previous_capo_value=0,current_capo_value_int=0,musixmatch_lyrics_is_linesynced=0,found_musixmatch_lyrics=0,song_played_or_paused="False",dynamic_scroll=!0,current_synced_line=0,clickable_synced_lines_array=[],clickable_synced_lines_timestamp_array=[],currently_hovering_timeline=!1,changed_time_via_timeline=!1,clicked_on_timeline=!1,in_track_change=!1,spotify_error=0,track_bpm=0,track_key=0,sync_ratio_percentage="0%",lines_hover_and_clickable="",sync_skip_on=0,clicked_previous=0,sync_button="",bottom_hr="",top_hr="",is_on_touch_device=!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0,setting_persist_capo_value=!1,setting_persist_flat_or_sharp=!0,settings_align="left",align_capo_persister=!1,align_flat_or_sharp_persister=!0,clicked_counter_repeat_section=0,repeat_section_on=!1,first_line_time=-1,last_line_time=-1,already_in_section_request_first_line=!1,resetRepeatSectionFunc=()=>{},old_shuffle_button="",old_repeat_button="",old_play_or_pause_button="",old_sync_button="",new_sync_button="";function sleepPromise(e){return new Promise((t=>setTimeout(t,e)))}null==localStorage.getItem("key_local_storage_settings_align")?localStorage.setItem("key_local_storage_settings_align",settings_align):settings_align=localStorage.getItem("key_local_storage_settings_align"),null==localStorage.getItem("key_local_storage_setting_persist_capo_value")?localStorage.setItem("key_local_storage_setting_persist_capo_value",setting_persist_capo_value):setting_persist_capo_value=localStorage.getItem("key_local_storage_setting_persist_capo_value"),"true"==setting_persist_capo_value?null==localStorage.getItem("key_local_storage_previous_capo_value")?localStorage.setItem("key_local_storage_previous_capo_value",current_capo_value_int):current_capo_value_int=localStorage.getItem("key_local_storage_previous_capo_value"):localStorage.setItem("key_local_storage_previous_capo_value","0"),null==localStorage.getItem("key_local_storage_setting_persist_flat_or_sharp")?localStorage.setItem("key_local_storage_setting_persist_flat_or_sharp",setting_persist_flat_or_sharp):setting_persist_flat_or_sharp=localStorage.getItem("key_local_storage_setting_persist_flat_or_sharp"),"true"==setting_persist_flat_or_sharp?null==localStorage.getItem("key_local_storage_previous_flat_or_sharp")?localStorage.setItem("key_local_storage_previous_flat_or_sharp",current_flat_or_sharp):current_flat_or_sharp=localStorage.getItem("key_local_storage_previous_flat_or_sharp"):localStorage.setItem("key_local_storage_previous_flat_or_sharp","0");var dev_or_prod="{{ dev_or_prod }}",log_on_off="{{ log_on_off }}";if("PRODUCTION"==dev_or_prod){console.log("In Production");var socket=io.connect("wss://chordsync.io")}else if("DEVELOPMENT"==dev_or_prod){console.log("In Development");socket=io.connect("http://"+document.domain+":"+location.port)}socket.on("connect",(()=>{console.log("WebSocket: Client (JavaScript) connected to Server (Python)")})),socket.on("error_message",(function(e){alert(e.message)})),setInterval((()=>{socket.emit("trackDynamicDataRequest")}),250),"DEVELOPMENT"==dev_or_prod&&"ON"==log_on_off&&setInterval((()=>{socket.emit("nextSpotifyTrack")}),1e4),socket.on("trackStaticDataResponse",(e=>{try{"0"==(track_key=sharOrFlatTranposer(transposeChord(e.track_key,0),current_flat_or_sharp))&&(track_key="C"),document.getElementById("IDtrackKeyValue").textContent=track_key}catch{console.log("%cNo track key available","color: yellow; font-weight: bold;")}if(sync_ratio_percentage=e.sync_ratio_percentage,sync_ratio_percentage_string="Sync Available ("+sync_ratio_percentage+"%)",track_bpm=e.track_bpm,document.getElementById("IDtrackBPMvalue").textContent=track_bpm,previous_capo_value=current_capo_value_int,localStorage.setItem("key_local_storage_previous_capo_value",previous_capo_value),sync_button=document.getElementById("IDsyncButton"),bottom_hr=document.getElementById("IDbottomHR"),top_hr=document.getElementById("IDtopHR"),1==sync_skip_on&&0==clicked_previous&&(0==e.musixmatch_lyrics_is_linesynced||0==e.complete_source_code_found))return void socket.emit("nextSpotifyTrack");if(1==sync_skip_on&&1==clicked_previous&&(0==e.musixmatch_lyrics_is_linesynced||0==e.complete_source_code_found))return void socket.emit("previousSpotifyTrack");clicked_previous=0,in_track_change=!1,1==(spotify_error=e.spotify_error)?(document.getElementById("IDrepeatSectionToggle").style.pointerEvents="none",document.getElementById("IDrepeatSectionToggle").title="Repeat/Replay Section",document.getElementById("IDsourceCodeLink").style.opacity="0.5",document.getElementById("IDdivMainChordsWrapper").style.justifyContent="center","Couldn't find chords for that song."==e.main_chords_body?(document.getElementById("IDsyncAvailableIMG").style.display="block",document.getElementById("IDsyncAvailableIMG").style.visibility="visible"):(document.getElementById("IDsyncAvailableIMG").style.display="none",document.getElementById("IDsyncAvailableIMG").style.visibility="hidden")):(document.getElementById("IDrepeatSectionToggle").style.pointerEvents="auto",document.getElementById("IDsourceCodeLink").style.opacity="1",document.getElementById("IDrepeatSectionToggle").title="Repeat/Replay Section",document.getElementById("IDdivMainChordsWrapper").style.justifyContent="flex-start",document.getElementById("IDsyncAvailableIMG").style.display="block",document.getElementById("IDsyncAvailableIMG").style.visibility="visible"),document.getElementById("IDdivMainChordsWrapper").scrollTo(0,0),document.getElementById("IDtrackName").textContent=e.track_name,document.getElementById("IDartistName").textContent="by "+e.artist_name,""!=e.album_cover_url?(document.getElementById("IDAlbum").src=e.album_cover_url,document.body.style.backgroundImage=`url(' ${e.album_cover_url} ')`):(document.getElementById("IDAlbum").src="static/img/empty_album_placeholder.png",document.body.style.backgroundImage="url(' {{ url_for('static', filename='/img/empty_album_placeholder.png') }} ')"),document.getElementById("IDtrackDuration").textContent=e.track_duration_m_and_s,track_duration_ms=e.track_duration_ms,document.getElementById("IDguitarTuning").textContent=e.guitar_tuning,musixmatch_lyrics_is_linesynced=e.musixmatch_lyrics_is_linesynced,found_musixmatch_lyrics=e.found_musixmatch_lyrics,0==musixmatch_lyrics_is_linesynced?(dynamic_scroll=!1,document.getElementById("IDsyncAvailableIMG").src="{{ url_for('static', filename='/img/sync_not_available_check.png') }}",document.getElementById("IDsyncAvailableIMG").style.filter=" drop-shadow(0 0 8px #fb6262)",document.getElementById("IDsyncAvailableIMG").title="Sync Not Available"):1==musixmatch_lyrics_is_linesynced&&(document.getElementById("IDsyncAvailableIMG").src="{{ url_for('static', filename='/img/sync_available_check.png') }}",document.getElementById("IDsyncAvailableIMG").style.filter=" drop-shadow(0 0 8px #62dbfb)",document.getElementById("IDsyncAvailableIMG").title=sync_ratio_percentage_string),main_chords_body=e.main_chords_body,document.getElementById("IDdivMainChords").innerHTML=main_chords_body,(lines_hover_and_clickable=()=>{(clickable_synced_lines_array=document.querySelectorAll('[id*="IS_SYNCED_AT:"]')).forEach((e=>{let t=e.id.match(/^IS_SYNCED_AT:(.+)/);t&&clickable_synced_lines_timestamp_array.push(parseInt(t[1])),e.addEventListener("click",(t=>{let o=t.target.id.match(/^IS_SYNCED_AT:(.+)/);if(o){let e=o[1];if(2==clicked_counter_repeat_section&&1==repeat_section_on){Math.abs(parseInt(first_line_time)-parseInt(e))<=1e3&&resetRepeatSectionFunc();var n=-1;clickable_synced_lines_timestamp_array.forEach(((t,o)=>{t==e&&o<clickable_synced_lines_timestamp_array.length-1&&(n=clickable_synced_lines_timestamp_array[o+1])})),0==n&&(n=track_duration_ms-2e3),last_line_time=n+2e3,console.log("Last Line Time: "+last_line_time);var s=document.createElement("style"),l="\n                            @keyframes blinkAnimation {\n                                0% { opacity: 1; }\n                                50% { opacity: 0.5; }\n                                100% { opacity: 1; }\n                            }\n\n                            #IDrepeatSectionToggle:checked:before {\n                                background-image: url('/static/img/repeat_section_button_4.png');\n                                background-size: cover;\n                                animation: blinkAnimation 2s infinite; /* 2s for a complete blink, adjust as needed */\n                            }\n                        ";(c=document.querySelector("style#repeatSectionStyle"))?c.innerHTML=l:(s.innerHTML=l,s.id="repeatSectionStyle",s.type="text/css",document.head.appendChild(s)),dynamic_scroll=!0,clicked_counter_repeat_section=3,document.getElementById("IDrepeatSectionToggle").title="Defined Section is being repeated",socket.emit("jumpInsideTrack",parseInt(first_line_time))}else if(1==clicked_counter_repeat_section&&1==repeat_section_on){first_line_time=e,console.log("First Line Time: "+first_line_time);var c;s=document.createElement("style"),l="\n                            #IDrepeatSectionToggle:checked:before {\n                                background-image:url('/static/img/repeat_section_button_3.png');\n                                background-size: cover;\n                            }\n                        ";(c=document.querySelector("style#repeatSectionStyle"))?c.innerHTML=l:(s.type="text/css",s.id="repeatSectionStyle",s.innerHTML=l,document.head.appendChild(s)),clicked_counter_repeat_section=2,document.getElementById("IDrepeatSectionToggle").title="Click LINE to define END of Repeat Section",socket.emit("jumpInsideTrack",parseInt(e))}else socket.emit("jumpInsideTrack",parseInt(e)),document.getElementById("IDrepeatSectionToggle").title="Repeat/Replay Section",resetRepeatSectionFunc()}try{e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),e.scrollTo}catch{console.log("%cNo current synced line available - Could not center current line","color: yellow; font-weight: bold;")}sleepPromise(1e3).then((()=>{dynamic_scroll=!0}))})),e.addEventListener("mouseover",(t=>{is_on_touch_device||(1==repeat_section_on?(line_color="#f362fb",drop_shadow="drop-shadow(0 0 15px #f362fb)"):(line_color="#34df70",drop_shadow="drop-shadow(0 0 15px #34df70)"),e.style.color=line_color,e.style.filter=drop_shadow)})),e.addEventListener("mouseout",(t=>{is_on_touch_device||(e.style.color="white",e.style.filter="")}))}))})(),document.getElementById("IDsourceCodeLink").href=e.complete_source_code_link,1==(complete_source_code_found=e.complete_source_code_found)?(document.getElementById("IDsourceCodeLink").querySelector("img").src="{{ url_for('static', filename='/img/source_icon.png') }}",document.getElementById("IDdivMainChordsWrapper").style.justifyContent="flex-start"):0==complete_source_code_found&&(document.getElementById("IDsourceCodeLink").querySelector("img").src="{{ url_for('static', filename='/img/search_icon.png') }}",document.getElementById("IDdivMainChordsWrapper").style.justifyContent="center",document.getElementById("IDsyncAvailableIMG").src="{{ url_for('static', filename='/img/sync_not_available_check.png') }}",document.getElementById("IDsyncAvailableIMG").style.filter=" drop-shadow(0 0 8px #fb6262)",document.getElementById("IDsyncAvailableIMG").title="Sync Not Available"),document.getElementById("IDguitarCapo").textContent=e.guitar_capo,-12==(initial_capo_value=e.guitar_capo)?(document.getElementById("IDcapoMinusButton").style.opacity="0.5",document.getElementById("IDcapoPlusButton").style.opacity="1"):12==initial_capo_value?(document.getElementById("IDcapoMinusButton").style.opacity="1",document.getElementById("IDcapoPlusButton").style.opacity="0.5"):(document.getElementById("IDcapoMinusButton").style.opacity="1",document.getElementById("IDcapoPlusButton").style.opacity="1"),document.getElementById("IDguitarCapo").style.fontWeight="bold",document.getElementById("IDguitarCapo").style.color="#1DB954",(setting_persist_capo_value||align_capo_persister)&&function(){var e=initial_capo_value-previous_capo_value;for(let t=0;t<e;++t)capoMinusFunc();for(let t=0;t>e;--t)capoPlusFunc()}(),align_capo_persister=!1;let t=(new DOMParser).parseFromString(document.getElementById("IDdivMainChords").innerHTML,"text/html").getElementsByClassName("chord_span");amount_of_flats=0,amount_of_sharps=0,previous_flat_or_sharp=current_flat_or_sharp;for(let e=0;e<t.length;e++)amount_of_flats+=(t[e].innerHTML.match(/b/g)||[]).length;for(let e=0;e<t.length;e++)amount_of_sharps+=(t[e].innerHTML.match(/#/g)||[]).length;amount_of_sharps>amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="bold",document.getElementById("IDsharpSymbol").style.color="#1DB954",document.getElementById("IDsharpSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter="",current_flat_or_sharp="#",(setting_persist_flat_or_sharp||align_flat_or_sharp_persister||"true"==setting_persist_flat_or_sharp)&&"b"==previous_flat_or_sharp&&(current_flat_or_sharp="b",flatOrSharpPersistSetting())),amount_of_flats>amount_of_sharps&&(document.getElementById("IDflatSymbol").style.fontWeight="bold",document.getElementById("IDflatSymbol").style.color="#1DB954",document.getElementById("IDflatSymbol").style.filter="drop-shadow(0 0 8px #1DB954)",document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",current_flat_or_sharp="b",(setting_persist_flat_or_sharp||align_flat_or_sharp_persister||"true"==setting_persist_flat_or_sharp)&&"#"==previous_flat_or_sharp&&(current_flat_or_sharp="#",flatOrSharpPersistSetting())),amount_of_sharps==amount_of_flats&&(document.getElementById("IDsharpSymbol").style.fontWeight="normal",document.getElementById("IDsharpSymbol").style.color="white",document.getElementById("IDsharpSymbol").style.filter="",document.getElementById("IDflatSymbol").style.fontWeight="normal",document.getElementById("IDflatSymbol").style.color="white",document.getElementById("IDflatSymbol").style.filter="",setting_persist_flat_or_sharp&&align_flat_or_sharp_persister&&"false"!=setting_persist_flat_or_sharp||(current_flat_or_sharp="0")),align_flat_or_sharp_persister=!0,console.log("%cArtist Name: "+e.artist_name,"color: #1DB954; font-weight: bold;"),console.log("%cTrack Name: "+e.track_name,"color: #1DB954; font-weight: bold;"),console.log("%cGuitar Tuning: "+e.guitar_tuning,"color: #1DB954; font-weight: bold;"),console.log("%cInitial Guitar Capo: "+e.guitar_capo,"color: #1DB954; font-weight: bold;"),console.log("%cFound Chords for Song (0/1): "+complete_source_code_found,"color: #1DB954; font-weight: bold;"),console.log("%cFound Synced Lyrics (0/1): "+musixmatch_lyrics_is_linesynced,"color: #1DB954; font-weight: bold;"),console.log("%cSpotify Error (0/1): "+e.spotify_error,"color: #1DB954; font-weight: bold;");var o=document.getElementsByClassName("chord_span");for(let e=0;e<o.length;e++){if("left"==settings_align&&"0px 0px 0px 0px"!=o[e].style.margin)for(let e=0;e<o.length;e++)o[e].style.margin="0px 0px 0px 0px";if("middle"==settings_align&&"0px 50px 0px 50px"!=o[e].style.margin)for(let e=0;e<o.length;e++)o[e].style.margin="0px 50px 0px 50px"}})),socket.on("trackDynamicDataResponse",(e=>{var t,o,n;if(current_track_id=e.track_id,e.track_id!=previous_track_id&&((resetRepeatSectionFunc=()=>{first_line_time=-1,last_line_time=-1,clicked_counter_repeat_section=0,repeat_section_on=!1;var e=document.createElement("style"),t=document.querySelector("style#repeatSectionStyle"),o="\n                #IDrepeatSectionToggle:checked:before {\n                    background-image:url('/static/img/repeat_section_button_1.png');\n                    background-size: cover;\n                }\n            ";t?t.innerHTML=o:(e.id="repeatSectionStyle",e.type="text/css",e.innerHTML=o,document.head.appendChild(e));var n=document.getElementById("IDrepeatSectionToggle");document.getElementById("IDrepeatSectionToggle").title="Repeat/Replay Section",n.checked=!1})(),document.getElementById("IDdivMainChordsWrapper").style.justifyContent="center",in_track_change=!0,previous_track_id=e.track_id,console.log("%c_____________________________________","color: white; font-weight: bold;"),console.log("%cTrack ID: "+e.track_id,"color: #1DB954; font-weight: bold;"),document.getElementById("IDdivMainChords").innerHTML='<img src="static/img/loading_animation.gif" alt="Loading Animation" style="width: calc(120px + 0.390625vw);">',main_chords_body='<img src="static/img/loading_animation.gif" alt="Loading Animation" style="width: calc(120px + 0.390625vw);">',dynamic_scroll=!0,document.getElementById("IDdivMainChordsWrapper").scrollTo(0,0),socket.emit("trackStaticDataRequest",settings_align)),"off"==e.current_repeat_state?t="static/img/music_control/repeat_spotify_off.png":"track"==e.current_repeat_state?t="static/img/music_control/repeat_spotify_song.png":"context"==e.current_repeat_state&&(t="static/img/music_control/repeat_spotify_context.png"),old_repeat_button!=t&&(document.getElementById("IDrepeatSpotifyButton").src=t,old_repeat_button=t),o=1==e.current_shuffle_state?"static/img/music_control/shuffle_on.png":(e.current_shuffle_state,"static/img/music_control/shuffle_off.png"),old_shuffle_button!=o&&(document.getElementById("IDshuffleButton").src=o,old_shuffle_button=o),0!=e.current_volume?(document.getElementById("IDAlbum").style.opacity="1",document.getElementById("IDAlbum").style.borderRadius="10px"):(document.getElementById("IDAlbum").style.opacity="0.5",document.getElementById("IDAlbum").style.borderRadius="50%"),"True"==e.play_or_pause?(n="static/img/music_control/play_button.png",song_played_or_paused="True"):"False"==e.play_or_pause&&(n="static/img/music_control/pause_button.png",song_played_or_paused="False"),old_play_or_pause_button!=n&&(document.getElementById("IDplayAndPauseButton").src=n,old_play_or_pause_button=n),!clicked_on_timeline&&!currently_hovering_timeline){document.getElementById("IDcurrentTime").textContent=e.current_time;let t=(progress_ms=e.progress_ms)/track_duration_ms,o=Math.round(100*t);document.getElementById("IDtimeLineFilled").style.width=o+"%"}let s=document.getElementById("IDdivMainChordsWrapper");s.scrollTop;s.addEventListener("wheel",(()=>{dynamic_scroll=!1})),s.addEventListener("touchmove",(()=>{dynamic_scroll=!1}));s.scrollHeight,s.clientHeight;dynamic_scroll||1!=musixmatch_lyrics_is_linesynced||0!=in_track_change||((new_sync_button="{{ url_for('static', filename='/img/sync_button.png') }}")!=old_sync_button&&(sync_button.src=new_sync_button,sync_button.style.filter="",sync_button.style.opacity="0.5",old_sync_button=new_sync_button),bottom_hr.classList.remove("classHRsyncOn"),top_hr.classList.remove("classHRsyncOn"),bottom_hr.classList.remove("classHRsyncOnWithRepeat"),top_hr.classList.remove("classHRsyncOnWithRepeat"),1==repeat_section_on&&3==clicked_counter_repeat_section&&resetRepeatSectionFunc()),dynamic_scroll&&1==musixmatch_lyrics_is_linesynced&&0==in_track_change&&(!function(e,t,o,n,s){s.forEach((e=>{if(3==clicked_counter_repeat_section&&1==repeat_section_on&&-1!=first_line_time&&-1!=last_line_time&&Math.abs(n-parseInt(last_line_time))<=500&&0==already_in_section_request_first_line&&(already_in_section_request_first_line=!0,socket.emit("jumpInsideTrack",parseInt(first_line_time)),setTimeout(resetRepeatSectionFlag,2e3)),Math.abs(n-e)<=200){(current_synced_line=document.getElementById("IS_SYNCED_AT:"+e))||(current_synced_line=document.getElementById("IS_SYNCED_AT:"+e+".0"));try{current_synced_line.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),current_synced_line.scrollTo}catch(e){console.log("The exact error message is: "+e),console.log("%cNo current synced line available - Could not center current line","color: yellow; font-weight: bold;")}}}))}(0,0,0,progress_ms,clickable_synced_lines_timestamp_array),(new_sync_button="{{ url_for('static', filename='/img/sync_button_blue.png') }}")!=old_sync_button&&(sync_button.src=new_sync_button,sync_button.style.filter="drop-shadow(0 0 15px #62dbfb)",sync_button.style.opacity="1",old_sync_button=new_sync_button),bottom_hr.classList.add("classHRsyncOn"),top_hr.classList.add("classHRsyncOn"),bottom_hr.classList.remove("classHRsyncOnWithRepeat"),top_hr.classList.remove("classHRsyncOnWithRepeat"),3==clicked_counter_repeat_section&&1==repeat_section_on&&(bottom_hr.classList.add("classHRsyncOnWithRepeat"),top_hr.classList.add("classHRsyncOnWithRepeat"),bottom_hr.classList.remove("classHRsyncOn"),top_hr.classList.remove("classHRsyncOn"))),dynamic_scroll||0!=musixmatch_lyrics_is_linesynced||0!=in_track_change||(document.getElementById("IDdivMainChordsWrapper").style.justifyContent="flex-start",document.getElementById("IDdivMainChords").innerHTML=main_chords_body,(new_sync_button="{{ url_for('static', filename='/img/sync_button.png') }}")!=old_sync_button&&(sync_button.src=new_sync_button,sync_button.style.filter="",sync_button.style.opacity="0.5",old_sync_button=new_sync_button),bottom_hr.classList.remove("classHRsyncOn"),top_hr.classList.remove("classHRsyncOn"),bottom_hr.classList.remove("classHRsyncOnWithRepeat"),top_hr.classList.remove("classHRsyncOnWithRepeat")),dynamic_scroll&&0==musixmatch_lyrics_is_linesynced&&0==in_track_change&&(document.getElementById("IDdivMainChordsWrapper").style.justifyContent="center",document.getElementById("IDdivMainChords").innerHTML="Syncing chords not possible for this song.",(new_sync_button="{{ url_for('static', filename='/img/sync_button_blue.png') }}")!=old_sync_button&&(sync_button.src=new_sync_button,sync_button.style.filter="drop-shadow(0 0 15px #62dbfb)",sync_button.style.opacity="1",old_sync_button=new_sync_button),bottom_hr.classList.add("classHRsyncOn"),top_hr.classList.add("classHRsyncOn"),bottom_hr.classList.remove("classHRsyncOnWithRepeat"),top_hr.classList.remove("classHRsyncOnWithRepeat")),0==complete_source_code_found&&(document.getElementById("IDdivMainChordsWrapper").style.justifyContent="center")}));
    </script>
</head>

<body>
    <div id="IDdivSmallerBody">

        <!-- Settings Overlay -->
        <div id="IDsettingsOverlay">
            <div id="IDsettingsOverlayContent">
                <img id="IDcloseSettings" src="static/img/close_settings_button.png" alt="Close Settings" title="Close Settings"/>

                <div id="IDmainSettings" onmousedown="return false" onselectstart="return false">
                    <div class="individualSettings" id="IDcapoSettings" title="Default: OFF | Setting prevents change of capo value with recommendation">
                        <h1 class="settingsTexts" id="IDcapoSettingsText">Persist Capo Value:</h1>
                        <div class="customSettingsCheckbox" id="IDcapoSettingsCheckbox">&nbsp;</div>
                    </div>
                    <div class="individualSettings" id="IDflatSharpSettings" title="Default: ON | Setting auto-transposes chords to fit #/b preference">
                        <h1 class="settingsTexts" id="IDflatSharpSettingsText">Persist #/b Preference:</h1>
                        <div class="customSettingsCheckbox" id="IDflatSharpSettingsCheckbox">&nbsp;</div>
                    </div>
                    <div class="individualSettings" id="IDalignContentSettings" title="Default: L | L: Left, M: Middle | Setting aligns chords and lyrics">
                        <h1 class="settingsTexts" id="IDalignSettingsText">Align Chords and Lyrics:</h1>
                        <div class="customSettingsCheckbox" id="IDalignSettingsCheckbox">L</div>
                        <div class="customSettingsCheckbox" id="IDalignSettingsCheckbox2">M</div>
                    </div>

                <a href="https://www.simonroedig.com/" target="_blank" title="Open Creators Website ⭷"><p  id="IDcredit"> • @2024 ChordSync.io | by Simon R. •</a></p>
                <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Open License Copy ⭷"><p  id="IDcredit2">Licensed under CC BY-NC-ND 4.0</a></p>
                </div>
            </div>
        </div>

        <!-- Navbar (Top Things)-->
        <div id="IDheadlines">
            <div id="IDheadlineAndUser">
                <a href="" title="ChordSync.io"><h1 id="IDheadline">ChordSync<span id="IDio">.io</span></h1></a>

                {% if is_logged_in %}
                    <a href="https://www.spotify.com/" id="IDspotifyUser" target="_blank" title="Open Spotify">
                        <div id="IDusernameAndImage">
                            <p id="IDuserNameArrow">➤</p>

                            {% if spotify_user_image == "" %}
                                <img id="IDspotifyUserImage" src="{{ url_for('static', filename='/img/empty_user_placeholder.png') }}" alt="Spotify User Image">
                            {% else %}
                                <img id="IDspotifyUserImage" src="{{ spotify_user_image }}" alt="Spotify User Image">
                            {% endif %}

                            <p id="IDspotifyUserName">{{ spotify_user_name }}</p>
                        </div>
                    </a>
                {% endif %}

            </div>
            <img id="IDsettingsButton" src="static/img/settings_button.png" alt="Open Settings" title="Open Settings"/>
            <hr id="IDtopHR">
        </div>

        
        <!-- Song and Media Player -->
        <div id="IDdivAlbumAndTrackAndTime">
            <div id="IDdivAlbum">
                <img id="IDAlbum" src="static/img/empty_album_placeholder.png" alt="Album Cover" title="Mute/Unmute Song"> 
            </div>
            
            <div id="IDdivTrackAndTime">
                <div id="IDdivTrackAndArtist">
                    <div id="IDdivCheckAndTitle">
                        <img id="IDsyncAvailableIMG" src="static/img/sync_available_check.png"> 
                        <span id="IDtrackName">{{ track_name }}</span>
                    </div>
                    <span id="IDartistName">{{ artist_name }}</span>
                </div>

                <div id="IDmusicControl">
                    <img id="IDshuffleButton" title="Shuffle Songs" src="static/img/music_control/shuffle_off.png"/>
                    <img id="IDbackButton" title="Previous Song" src="static/img/music_control/back_button.png"/>
                    <img id="IDplayAndPauseButton" title="Play or Pause Song" src="static/img/music_control/play_button.png"/>
                    <img id="IDforwardButton" title="Next Song" src="static/img/music_control/forward_button.png"/>
                    <img id="IDrepeatSpotifyButton" title="Repeat Song/Playlist" src="static/img/music_control/repeat_spotify_off.png"/>
                </div>
                
                <div id="IDdivTime">
                    <div id="IDtimeLineEmpty">
                        <div id="IDtimeLineFilled"></div> 
                    </div>
                    <div id="IDtimeLineEmpty2">
                        <div id="IDtimeLineFilled2"></div> 
                    </div>

                    <div id="IDdivCurrentTime">
                        <div id="IDdivRepeatButtonAndCurrentTime">
                            <p><span id="IDcurrentTime">{{ minutes }}:{{ "%02d"|format(seconds) }}</span></p>
                            <input id="IDrepeatSectionToggle" type="checkbox"/ title="Repeat/Replay Section">
                        </div> 

                        <div id="IDdivSyncButtonAndTime">
                            <input id="IDsyncSkipToggle" type="checkbox"/ title="Turn On/Off: Show ONLY Syncable Songs when 'Skip'">
                            <p><span id="IDtrackDuration">{{ minutes }}:{{ "%02d"|format(seconds) }}</span></p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    
        <!-- Toolbar and Main Chord Content -->
        <div id="IDdivAllChordsAndInfos">
            <hr id="IDmiddleHR1">
            
            <!-- Toolbar -->
            <div id="IDdivTuningAndCapo">
                <!--https://github.com/qiuxiang/tuner?tab=readme-ov-file-->
                <a href="https://qiuxiang.github.io/tuner/app/" target="_blank"><img id="IDtuningIcon" src="static/img/tuning_icon.png"></img></a><span id="IDguitarTuning">{{ guitar_tuning }}</span>

                <p id="IDverticalDelimeter1">&nbsp;&nbsp;|&nbsp;&nbsp;</p>

                <p id="IDtrackBPMtext"><span id="IDtrackBPMvalue">0</span> BPM</p>

                <p id="IDverticalDelimeter1">&nbsp;&nbsp;|&nbsp;&nbsp;</p>

                <img id="IDkeyIcon" src="static/img/key_icon.png"></img>
                <p id="IDtrackKeyText"><span id="IDtrackKeyValue">C</span></p>
                
                <p id="IDverticalDelimeter1">&nbsp;&nbsp;|&nbsp;&nbsp;</p>

                <img id="IDcapoIcon" src="static/img/capo_icon.png"></img>
                <p id="IDcapoMinusButton" title="Transpose Chords One Semitone Up" onmousedown="return false" onselectstart="return false">-&nbsp;</p>
                <p><span id="IDguitarCapo" onmousedown="return false" onselectstart="return false">{{ guitar_capo }}</span></p>
                <p id="IDcapoPlusButton" title="Tranpose Chords One Semitone Down" onmousedown="return false" onselectstart="return false">&nbsp;+</p>

                <p id="IDverticalDelimeter1">&nbsp;&nbsp;|&nbsp;&nbsp;</p>

                <p id="IDflatOrSharp" title="Toggle Between Sharp- and Flat Chords" onmousedown="return false" onselectstart="return false"><span id="IDsharpSymbol">#</span>/<span id="IDflatSymbol">b</span>&nbsp;</p>
                
            </div>
            
            <hr id="IDmiddleHR2">
    
            <!-- Main Chord Content -->
            <div id="IDdivMainChordsWrapper" onmousedown="return false" onselectstart="return false">
                <div id="IDdivMainChords">{{ main_chords_body|safe }}</div>
            </div>
    
            <hr id="IDbottomHR">

            <!-- Bottom Things -->
            <div id="IDdivLoginAndSyncAndSourceCode">
                {% if is_logged_in %}
                    <a id="IDlogoutText" href="/logout" title="Logout"><p>&#8672; Logout</p></a>
                {% else %}
                    <a id="IDloginText" href="/login" title="Login"><p>&#8674; Login</p></a>
                {% endif %}
                <img id="IDsyncButton" title="Sync or Unsync Song" src="{{ url_for('static', filename='/img/sync_button.png') }}"/>
                <a id="IDsourceCodeLink" href="{{ complete_source_code_link }}" target="_blank" title="Find Chords or Look Up Source"><img src="{{ url_for('static', filename='/img/search_icon.png') }}"/></a>
            </div>
        </div>   
    </div>
</body>

<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</html> 
